@using EShopSolution.ViewModels.Common
@model PagedResult<EShopSolution.ViewModels.Catalog.Products.ProductViewModel>

@{
    ViewData["Title"] = "Danh sách sản phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Scripts{
    <script>
        var toastHTML = document.getElementById("liveToast");
        if (toastHTML != null) {

            var option = {
                autohide: true,
                animation: true,
                delay: 2000
            };

            var toastHTML = document.getElementById("liveToast");
            var toastEL = new bootstrap.Toast(toastHTML, option);
            toastEL.show();

        }

    </script>

}
@if (ViewBag.SuccessMsg != null)
{
    <div class=" position-fixed p-3 end-0 " style="z-index: 11">
        <div id="liveToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    @ViewBag.SuccessMsg
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

}

<div class="container-fluid px-4">
    <h1 class="mt-4">Xóa sản phẩm</h1>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
        <li class="breadcrumb-item active">Xóa sản phẩm</li>
    </ol>
    <div class="card mb-4">
        <div class="card-header">
            <div class="card-group">
                <a class="btn btn-success" asp-action="Create" asp-controller="Product">Tạo mới</a>
                <form method="get" class="ms-3" asp-action="Index" asp-controller="Product">
                    <div class="input-group">
                        <input class="form-control" type="text" placeholder="Tìm kiếm" aria-label="Tìm kiếm" value="@ViewBag.Keyword" name="keyword" aria-describedby="btnNavbarSearch" />
                        <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i></button>
                    </div>
                </form>

            </div>

        </div>
        <div class="card-body">
            <div class=" table-responsive">
                <table class="table table-striped table-hover table-bordered ">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>OriginalPrice</th>
                            <th>Stock</th>
                            <th>ViewCount</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Items)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Id)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Price)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.OriginalPrice)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Stock)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ViewCount)
                                </td>
                                <td>

                                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }, new { @class = "btn btn-warning mx-1" })
                                    @Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class = "btn btn-primary mx-1" })
                                    @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "btn btn-danger mx-1" })

                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
            @await Component.InvokeAsync("Pager", Model)
        </div>
    </div>
</div>
